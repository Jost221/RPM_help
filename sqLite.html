<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQLite help</title>
</head>
<body>
    <h1>
        Вступление
    </h1>
    <p>
        <h2>
            SQLite - одина из основных БД дл питона. Она достаточно проста для опнимани но имеет свой синтаксис.
            <br />
            <br />
            <br />
            <br />
            Для работы с SQLite в питоне есть стандартная бибилиотека
            <br />
            <br />
            <i>
                <b>
                    import sqlite3
                </b>
            </i>
            <br />
            <br />
            Далее необходимо подключить БД (создать её или найти старую). После чего подключить так называемый курсор, для произведени операций на прямую с БД
            <br />
            <br />
            <i>
                <b>
                    db = sqlite3.connect("DataBase.db")
                    <br \>
                    cursor = db.cursor()
                </b>
            </i>
            <br \>
            <br \>
            После окончани работы программы необходимо закрыть БД, это необходимо дл завершения последней транзакции в случае остановки программы
            <br \>
            <br \>
            <i>
                <b>
                    db.close()
                </b>
            </i>   
            <br \>
            <br \>
            Все операции по работе с БД происходят через команду
            <br \>
            <br \>
            <i>
                <b>
                    cursor.execute("""Команды""")
                </b>
            </i> 
            <br />
            Далее будут рассмотрены все запросы к БД и не только
        </h2>
    </p>
    <p>
        <br \>
        <br \>
        <br \>
        <br \>
        <br \>
        <br \>
        <h2>
            Создание таблицы с проверкой на существование таблицы с таким же названиемю
            <br \>
            <br \>
            Каждый столбец соответствует типу в SQLite. Предасталены только основные типы данных
        </h2>
        <br \>
        <h3>
            """<br \>
            CREATE TABLE IF NOT EXISTS users(<br \>
                int_with_auto_filling INTEGER PRIMARY KEY AUTOINCREMENT,<br \>
                string_with_default_chenge_1 TEXT NOT NULL DEFAULT ok,<br \>
                float REAL,<br \>
                bool BLOB<br \>
            )"""<br \>
        </h3>
        <br \>
        <br \>
        <h2>
            Удаление таблицы
        </h2>
        <br \>
        <h3>
            """DROP TABLE IF EXISTS users"""
        </h3>
        <br \>
        <br \>
        <h2>
            Добавление записи в таблицу
        </h2>
        <h3>
            <i>Пример 1</i>
            <br \>
            <br \>
            """
            INSERT INTO users VALUES(0, 'строка', 1.5, True)
            """
            <br \>
            <br \>
            <i>Пример 2</i>
            <br \>
            <br \>
            """
            INSERT INTO users (float, bool) VALUES(2.5, False)
            """
            <br \>
            <br \>
        </h3>
        <h2>
            Чтение данных из таблицы
        </h2>
        <h3>
            <i>Пример 1</i>
            <br \>
            <br \>
            """
            SELECT * FROM users
            """
            <br \>
            <br \>
            <i>Пример 2</i>
            <br \>
            <br \>
            Существует в обычной таблице невидимый столбец rowid, мы его создали ранее и назвали int_with_auto_filling
            <br \>
            <br \>
            """
            SELECT rowid, float, bool FROM users
            """
            <br \>
            <br \>
            <i>Пример 3</i>
            <br \>
            <br \>
            Так же можно подтгивать только нужные значения используя оператор WHERE, которому присущи операторы конструкции if, по мимо их имеются и новые операторы:<br \> &nbsp&nbsp&nbsp&nbsp1) IN - удовлетворют все числа входщие в интервал (value1,value2)<br \>&nbsp&nbsp&nbsp&nbsp2) NOT IN - всё тоже самое, просто отрицание<br \>&nbsp&nbsp&nbsp&nbsp3) LIKE - оператор позволющий использовать подстановочные символы, такие как % и _. <br \> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp1) Позволяет сопоставить любую строку любой длины (включая нулевую длину)<br \> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2)Позволет сопоставить одиночный символ
            <br \>
            <br \>
            """
            SELECT * FROM users WHERE float == 1.5 AND rowid IN(-1, 3) OR string_with_default_chenge_1 LIKE "1%"
            """
            <br \>
            <br \>
            <i>Пример 4</i>
            <br \>
            <br \>
            Сотрировка и топ
            <br \>
            Для сортировки используется ключевое слово ORDER BY [имя столбца]. По стандарту сортируется по возрастанию. Для сортировки по убыванию используетс ключевое слово DESC, по возрастанию ASC
            <br \>
            <br \>
            Если данных в таблице не много, а нам нужны только крайние значнеия, то можно использовать ключевое слово LIMIT [число]. Так же имеется ключевое слово OFFSET [число], позволет пропустить указанную строку. Такого же эффекта можно добится LIMIT [числа для пропуска] [ограничивающее число]
            <br \>
            <br \>
            """
            SELECT * FROM users
            ORDER BY rowid DESC
            LIMIT 1, 2
            """
        </h3>
        <h2>
            Рбота со значниями в питоне.<br \>
            &nbsp&nbsp&nbsp&nbspПри выполнениии команды, например:<br \>
            cursor.execute("""SELECT * FROM users""")<br \>
            В яйчейку памяти, на которую ссылается переменна cursor запишется таблица в зависимости от того, что мы указали в execute. Для обращения к элементам таблицы мы можем поступить следующим образом:<br \ >
            1) Записывать данные в новую переменную и работать в кортэжем. Дл этого можно использовать следующие команды:<br \>
            &nbsp&nbsp&nbsp&nbsp1.1 respons = cursor.fetchall() - получаем весь курсор<br \>
            &nbsp&nbsp&nbsp&nbsp1.2 respons = cursor.fetchone() - получаем первую строку таблицы<br \>
            &nbsp&nbsp&nbsp&nbsp1.3 respons = cursor.fetchmany(n) - получаем первые n строк<br \>
            2) Перебираем и выводим все значения через цикл for:
            &nbsp&nbsp&nbsp&nbsp[print(respons) for respons in cur]
        </h2>
        <h2>
            Изменение и удаление данных
        </h2>
        <h3>
            Изменение
            <br \ >
            """UPDATE [имя таблицы] SET [имя столбца] = [новое значение] WHERE [условие] (можно обойтись без последнего пункта)"""<br \>
            <br \>
            Пример
            """UPDATE users SET float = 0.5"""
            <br \>
            <br \>
            <br \>
            Удаление
            """DELETE FROM [имя таблицы] WHERE [условие]"""
            <br \>
            <br \>
            Пример
            <br \>
            <br \>
            """DELETE FROM users WHERE rowid == 2"""
        </h3>
        <br \>
        <br \>
    </p>
    
</body>
</html>


